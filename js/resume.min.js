/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */
function onImageLoad(){var e=function(){return _.first(_.shuffle(_.flatten(arguments)))},t=function(t,n){t=t||{};var i,r=[function(){return t=_.defaults(t,{blockSize:16,duration:e(1e3,2e3,3e3),randomize:!0,reverseDir:e(!0,!1),easing:Easing.easeOutBounce,delay:e(20,100)}),function(e,n){Px.animateTiles(e,t,n)}},function(){return t=_.defaults(t,{blockSize:8,duration:500,randomize:e(!0,!1),reverseDir:e(!0,!1),easing:e(Easing.easeOutQuad,Easing.easeOutBounce),delay:5}),function(e,n){Px.animateTiles(e,t,n)}},function(){var n=e(_.keys(Easing));return t=_.defaults(t,{blockSize:32,duration:_.random(3e3,5e3),randomize:e(!0,!1),reverseDir:e(!0,!1),easing:Easing[n],delay:20}),function(e,n){Px.animateTiles(e,t,n)}}],a=[function(){return function(n,i){var r=e("easeInBounce","easeOutBounce","easeInOutBack");Px.animate(n,{easing:Easing[r],duration:2e3,start:t.blockSize,end:1},i)}},function(){var n;e(_.keys(Easing));return n=8===t.blockSize?_.random(750,2e3):16===t.blockSize?_.random(1e3,2e3):_.random(3e3,5e3),t=_.defaults(t,{duration:n,randomize:e(!0,!1),reverseDir:e(!0,!1),easing:Easing.easeInBounce,delay:5}),function(e,n){Px.animateTiles(e,t,n)}}];i=void 0===n?e:function(e){return e[n]};var o;return o=t.reverse?i(a)():i(r)(),{opts:t,fn:o}},n=function(e){var t=document.createElement("canvas");return t.width=128,t.height=128,t.getContext("2d").drawImage(e,0,0),t},i=n(this),r=i.getContext("2d"),a=r.getImageData(0,0,i.width,i.height);$(this).parent().append(i);var o,u=function(){r.putImageData(a,0,0)},c=1e3,l=_.random(2500,5e3),s=_.random(4e3,7e3);$(document).on("visibility",function(e,t){o=t});var f=0,d=function(){!function e(){var n=function(){setTimeout(e,s)};if($(i).is(":hidden")||o)return n();var r=0===f++?0:void 0,a=t(null,r),c=function(){setTimeout(function(){var e=t({reverse:!0,blockSize:a.opts.blockSize});u(),e.fn(i,n)},l)};a.fn(i,c)}()};setTimeout(d,c)}!function(e,t,n,i){var r=n("html"),a=n(e),o=n(t),u=n.fancybox=function(){u.open.apply(this,arguments)},c=navigator.userAgent.match(/msie/i),l=null,s=t.createTouch!==i,f=function(e){return e&&e.hasOwnProperty&&e instanceof n},d=function(e){return e&&"string"===n.type(e)},p=function(e){return d(e)&&0<e.indexOf("%")},h=function(e,t){var n=parseInt(e,10)||0;return t&&p(e)&&(n*=u.getViewport()[t]/100),Math.ceil(n)},g=function(e,t){return h(e,t)+"px"};n.extend(u,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!s,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(c?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(n.isPlainObject(t)||(t={}),!1!==u.close(!0))?(n.isArray(e)||(e=f(e)?n(e).get():[e]),n.each(e,function(r,a){var o,c,l,s,p,h={};"object"===n.type(a)&&(a.nodeType&&(a=n(a)),f(a)?(h={href:a.data("fancybox-href")||a.attr("href"),title:a.data("fancybox-title")||a.attr("title"),isDom:!0,element:a},n.metadata&&n.extend(!0,h,a.metadata())):h=a),o=t.href||h.href||(d(a)?a:null),c=t.title!==i?t.title:h.title||"",s=(l=t.content||h.content)?"html":t.type||h.type,!s&&h.isDom&&(s=a.data("fancybox-type"),s||(s=(s=a.prop("class").match(/fancybox\.(\w+)/))?s[1]:null)),d(o)&&(s||(u.isImage(o)?s="image":u.isSWF(o)?s="swf":"#"===o.charAt(0)?s="inline":d(a)&&(s="html",l=a)),"ajax"===s&&(p=o.split(/\s+/,2),o=p.shift(),p=p.shift())),l||("inline"===s?o?l=n(d(o)?o.replace(/.*(?=#[^\s]+$)/,""):o):h.isDom&&(l=a):"html"===s?l=o:!s&&!o&&h.isDom&&(s="inline",l=a)),n.extend(h,{href:o,type:s,content:l,title:c,selector:p}),e[r]=h}),u.opts=n.extend(!0,{},u.defaults,t),t.keys!==i&&(u.opts.keys=t.keys?n.extend({},u.defaults.keys,t.keys):!1),u.group=e,u._start(u.opts.index)):void 0},cancel:function(){var e=u.coming;e&&!1!==u.trigger("onCancel")&&(u.hideLoading(),u.ajaxLoad&&u.ajaxLoad.abort(),u.ajaxLoad=null,u.imgPreload&&(u.imgPreload.onload=u.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),u.coming=null,u.current||u._afterZoomOut(e))},close:function(e){u.cancel(),!1!==u.trigger("beforeClose")&&(u.unbindEvents(),u.isActive&&(u.isOpen&&!0!==e?(u.isOpen=u.isOpened=!1,u.isClosing=!0,n(".fancybox-item, .fancybox-nav").remove(),u.wrap.stop(!0,!0).removeClass("fancybox-opened"),u.transitions[u.current.closeMethod]()):(n(".fancybox-wrap").stop(!0).trigger("onReset").remove(),u._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(u.player.timer)},n=function(){t(),u.current&&u.player.isActive&&(u.player.timer=setTimeout(u.next,u.current.playSpeed))},i=function(){t(),o.unbind(".player"),u.player.isActive=!1,u.trigger("onPlayEnd")};!0===e||!u.player.isActive&&!1!==e?u.current&&(u.current.loop||u.current.index<u.group.length-1)&&(u.player.isActive=!0,o.bind({"onCancel.player beforeClose.player":i,"onUpdate.player":n,"beforeLoad.player":t}),n(),u.trigger("onPlayStart")):i()},next:function(e){var t=u.current;t&&(d(e)||(e=t.direction.next),u.jumpto(t.index+1,e,"next"))},prev:function(e){var t=u.current;t&&(d(e)||(e=t.direction.prev),u.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,n){var r=u.current;r&&(e=h(e),u.direction=t||r.direction[e>=r.index?"next":"prev"],u.router=n||"jumpto",r.loop&&(0>e&&(e=r.group.length+e%r.group.length),e%=r.group.length),r.group[e]!==i&&(u.cancel(),u._start(e)))},reposition:function(e,t){var i,r=u.current,a=r?r.wrap:null;a&&(i=u._getPosition(t),e&&"scroll"===e.type?(delete i.position,a.stop(!0,!0).animate(i,200)):(a.css(i),r.pos=n.extend({},r.dim,i)))},update:function(e){var t=e&&e.type,n=!t||"orientationchange"===t;n&&(clearTimeout(l),l=null),u.isOpen&&!l&&(l=setTimeout(function(){var i=u.current;i&&!u.isClosing&&(u.wrap.removeClass("fancybox-tmp"),(n||"load"===t||"resize"===t&&i.autoResize)&&u._setDimension(),"scroll"===t&&i.canShrink||u.reposition(e),u.trigger("onUpdate"),l=null)},n&&!s?0:300))},toggle:function(e){u.isOpen&&(u.current.fitToView="boolean"===n.type(e)?e:!u.current.fitToView,s&&(u.wrap.removeAttr("style").addClass("fancybox-tmp"),u.trigger("onUpdate")),u.update())},hideLoading:function(){o.unbind(".loading"),n("#fancybox-loading").remove()},showLoading:function(){var e,t;u.hideLoading(),e=n('<div id="fancybox-loading"><div></div></div>').click(u.cancel).appendTo("body"),o.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),u.cancel())}),u.defaults.fixed||(t=u.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=u.current&&u.current.locked||!1,n={x:a.scrollLeft(),y:a.scrollTop()};return t?(n.w=t[0].clientWidth,n.h=t[0].clientHeight):(n.w=s&&e.innerWidth?e.innerWidth:a.width(),n.h=s&&e.innerHeight?e.innerHeight:a.height()),n},unbindEvents:function(){u.wrap&&f(u.wrap)&&u.wrap.unbind(".fb"),o.unbind(".fb"),a.unbind(".fb")},bindEvents:function(){var e,t=u.current;t&&(a.bind("orientationchange.fb"+(s?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),u.update),(e=t.keys)&&o.bind("keydown.fb",function(r){var a=r.which||r.keyCode,o=r.target||r.srcElement;return 27===a&&u.coming?!1:void(!r.ctrlKey&&!r.altKey&&!r.shiftKey&&!r.metaKey&&(!o||!o.type&&!n(o).is("[contenteditable]"))&&n.each(e,function(e,o){return 1<t.group.length&&o[a]!==i?(u[e](o[a]),r.preventDefault(),!1):-1<n.inArray(a,o)?(u[e](),r.preventDefault(),!1):void 0}))}),n.fn.mousewheel&&t.mouseWheel&&u.wrap.bind("mousewheel.fb",function(e,i,r,a){for(var o=n(e.target||null),c=!1;o.length&&!c&&!o.is(".fancybox-skin")&&!o.is(".fancybox-wrap");)c=o[0]&&!(o[0].style.overflow&&"hidden"===o[0].style.overflow)&&(o[0].clientWidth&&o[0].scrollWidth>o[0].clientWidth||o[0].clientHeight&&o[0].scrollHeight>o[0].clientHeight),o=n(o).parent();0!==i&&!c&&1<u.group.length&&!t.canShrink&&(a>0||r>0?u.prev(a>0?"down":"left"):(0>a||0>r)&&u.next(0>a?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var i,r=t||u.coming||u.current;if(r){if(n.isFunction(r[e])&&(i=r[e].apply(r,Array.prototype.slice.call(arguments,1))),!1===i)return!1;r.helpers&&n.each(r.helpers,function(t,i){i&&u.helpers[t]&&n.isFunction(u.helpers[t][e])&&u.helpers[t][e](n.extend(!0,{},u.helpers[t].defaults,i),r)}),o.trigger(e)}},isImage:function(e){return d(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return d(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,i,r={};if(e=h(e),t=u.group[e]||null,!t)return!1;if(r=n.extend(!0,{},u.opts,t),t=r.margin,i=r.padding,"number"===n.type(t)&&(r.margin=[t,t,t,t]),"number"===n.type(i)&&(r.padding=[i,i,i,i]),r.modal&&n.extend(!0,r,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),r.autoSize&&(r.autoWidth=r.autoHeight=!0),"auto"===r.width&&(r.autoWidth=!0),"auto"===r.height&&(r.autoHeight=!0),r.group=u.group,r.index=e,u.coming=r,!1===u.trigger("beforeLoad"))u.coming=null;else{if(i=r.type,t=r.href,!i)return u.coming=null,u.current&&u.router&&"jumpto"!==u.router?(u.current.index=e,u[u.router](u.direction)):!1;if(u.isActive=!0,("image"===i||"swf"===i)&&(r.autoHeight=r.autoWidth=!1,r.scrolling="visible"),"image"===i&&(r.aspectRatio=!0),"iframe"===i&&s&&(r.scrolling="scroll"),r.wrap=n(r.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+r.wrapCSS).appendTo(r.parent||"body"),n.extend(r,{skin:n(".fancybox-skin",r.wrap),outer:n(".fancybox-outer",r.wrap),inner:n(".fancybox-inner",r.wrap)}),n.each(["Top","Right","Bottom","Left"],function(e,t){r.skin.css("padding"+t,g(r.padding[e]))}),u.trigger("onReady"),"inline"===i||"html"===i){if(!r.content||!r.content.length)return u._error("content")}else if(!t)return u._error("href");"image"===i?u._loadImage():"ajax"===i?u._loadAjax():"iframe"===i?u._loadIframe():u._afterLoad()}},_error:function(e){n.extend(u.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:u.coming.tpl.error}),u._afterLoad()},_loadImage:function(){var e=u.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,u.coming.width=this.width/u.opts.pixelRatio,u.coming.height=this.height/u.opts.pixelRatio,u._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,u._error("image")},e.src=u.coming.href,!0!==e.complete&&u.showLoading()},_loadAjax:function(){var e=u.coming;u.showLoading(),u.ajaxLoad=n.ajax(n.extend({},e.ajax,{url:e.href,error:function(e,t){u.coming&&"abort"!==t?u._error("ajax",e):u.hideLoading()},success:function(t,n){"success"===n&&(e.content=t,u._afterLoad())}}))},_loadIframe:function(){var e=u.coming,t=n(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",s?"auto":e.iframe.scrolling).attr("src",e.href);n(e.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(u.showLoading(),t.one("load",function(){n(this).data("ready",1),s||n(this).bind("load.fb",u.update),n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),u._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||u._afterLoad()},_preloadImages:function(){var e,t,n=u.group,i=u.current,r=n.length,a=i.preload?Math.min(i.preload,r-1):0;for(t=1;a>=t;t+=1)e=n[(i.index+t)%r],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,i,r,a,o=u.coming,c=u.current;if(u.hideLoading(),o&&!1!==u.isActive)if(!1===u.trigger("afterLoad",o,c))o.wrap.stop(!0).trigger("onReset").remove(),u.coming=null;else{switch(c&&(u.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),u.unbindEvents(),e=o.content,t=o.type,i=o.scrolling,n.extend(u,{wrap:o.wrap,skin:o.skin,outer:o.outer,inner:o.inner,current:o,previous:c}),r=o.href,t){case"inline":case"ajax":case"html":o.selector?e=n("<div>").html(e).find(o.selector):f(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",n('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),o.wrap.bind("onReset",function(){n(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":e=o.tpl.image.replace("{href}",r);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+r+'"></param>',a="",n.each(o.swf,function(t,n){e+='<param name="'+t+'" value="'+n+'"></param>',a+=" "+t+'="'+n+'"'}),e+='<embed src="'+r+'" type="application/x-shockwave-flash" width="100%" height="100%"'+a+"></embed></object>"}(!f(e)||!e.parent().is(o.inner))&&o.inner.append(e),u.trigger("beforeShow"),o.inner.css("overflow","yes"===i?"scroll":"no"===i?"hidden":i),u._setDimension(),u.reposition(),u.isOpen=!1,u.coming=null,u.bindEvents(),u.isOpened?c.prevMethod&&u.transitions[c.prevMethod]():n(".fancybox-wrap").not(o.wrap).stop(!0).trigger("onReset").remove(),u.transitions[u.isOpened?o.nextMethod:o.openMethod](),u._preloadImages()}},_setDimension:function(){var e,t,i,r,a,o,c,l,s,f=u.getViewport(),d=0,m=!1,v=!1,m=u.wrap,y=u.skin,w=u.inner,x=u.current,v=x.width,b=x.height,k=x.minWidth,_=x.minHeight,O=x.maxWidth,C=x.maxHeight,M=x.scrolling,E=x.scrollOutside?x.scrollbarWidth:0,j=x.margin,I=h(j[1]+j[3]),S=h(j[0]+j[2]);if(m.add(y).add(w).width("auto").height("auto").removeClass("fancybox-tmp"),j=h(y.outerWidth(!0)-y.width()),e=h(y.outerHeight(!0)-y.height()),t=I+j,i=S+e,r=p(v)?(f.w-t)*h(v)/100:v,a=p(b)?(f.h-i)*h(b)/100:b,"iframe"===x.type){if(s=x.content,x.autoHeight&&1===s.data("ready"))try{s[0].contentWindow.document.location&&(w.width(r).height(9999),o=s.contents().find("body"),E&&o.css("overflow-x","hidden"),a=o.outerHeight(!0))}catch(A){}}else(x.autoWidth||x.autoHeight)&&(w.addClass("fancybox-tmp"),x.autoWidth||w.width(r),x.autoHeight||w.height(a),x.autoWidth&&(r=w.width()),x.autoHeight&&(a=w.height()),w.removeClass("fancybox-tmp"));if(v=h(r),b=h(a),l=r/a,k=h(p(k)?h(k,"w")-t:k),O=h(p(O)?h(O,"w")-t:O),_=h(p(_)?h(_,"h")-i:_),C=h(p(C)?h(C,"h")-i:C),o=O,c=C,x.fitToView&&(O=Math.min(f.w-t,O),C=Math.min(f.h-i,C)),t=f.w-I,S=f.h-S,x.aspectRatio?(v>O&&(v=O,b=h(v/l)),b>C&&(b=C,v=h(b*l)),k>v&&(v=k,b=h(v/l)),_>b&&(b=_,v=h(b*l))):(v=Math.max(k,Math.min(v,O)),x.autoHeight&&"iframe"!==x.type&&(w.width(v),b=w.height()),b=Math.max(_,Math.min(b,C))),x.fitToView)if(w.width(v).height(b),m.width(v+j),f=m.width(),I=m.height(),x.aspectRatio)for(;(f>t||I>S)&&v>k&&b>_&&!(19<d++);)b=Math.max(_,Math.min(C,b-10)),v=h(b*l),k>v&&(v=k,b=h(v/l)),v>O&&(v=O,b=h(v/l)),w.width(v).height(b),m.width(v+j),f=m.width(),I=m.height();else v=Math.max(k,Math.min(v,v-(f-t))),b=Math.max(_,Math.min(b,b-(I-S)));E&&"auto"===M&&a>b&&t>v+j+E&&(v+=E),w.width(v).height(b),m.width(v+j),f=m.width(),I=m.height(),m=(f>t||I>S)&&v>k&&b>_,v=x.aspectRatio?o>v&&c>b&&r>v&&a>b:(o>v||c>b)&&(r>v||a>b),n.extend(x,{dim:{width:g(f),height:g(I)},origWidth:r,origHeight:a,canShrink:m,canExpand:v,wPadding:j,hPadding:e,wrapSpace:I-y.outerHeight(!0),skinSpace:y.height()-b}),!s&&x.autoHeight&&b>_&&C>b&&!v&&w.height("auto")},_getPosition:function(e){var t=u.current,n=u.getViewport(),i=t.margin,r=u.wrap.width()+i[1]+i[3],a=u.wrap.height()+i[0]+i[2],i={position:"absolute",top:i[0],left:i[3]};return t.autoCenter&&t.fixed&&!e&&a<=n.h&&r<=n.w?i.position="fixed":t.locked||(i.top+=n.y,i.left+=n.x),i.top=g(Math.max(i.top,i.top+(n.h-a)*t.topRatio)),i.left=g(Math.max(i.left,i.left+(n.w-r)*t.leftRatio)),i},_afterZoomIn:function(){var e=u.current;e&&(u.isOpen=u.isOpened=!0,u.wrap.css("overflow","visible").addClass("fancybox-opened"),u.update(),(e.closeClick||e.nextClick&&1<u.group.length)&&u.inner.css("cursor","pointer").bind("click.fb",function(t){!n(t.target).is("a")&&!n(t.target).parent().is("a")&&(t.preventDefault(),u[e.closeClick?"close":"next"]())}),e.closeBtn&&n(e.tpl.closeBtn).appendTo(u.skin).bind("click.fb",function(e){e.preventDefault(),u.close()}),e.arrows&&1<u.group.length&&((e.loop||0<e.index)&&n(e.tpl.prev).appendTo(u.outer).bind("click.fb",u.prev),(e.loop||e.index<u.group.length-1)&&n(e.tpl.next).appendTo(u.outer).bind("click.fb",u.next)),u.trigger("afterShow"),e.loop||e.index!==e.group.length-1?u.opts.autoPlay&&!u.player.isActive&&(u.opts.autoPlay=!1,u.play()):u.play(!1))},_afterZoomOut:function(e){e=e||u.current,n(".fancybox-wrap").trigger("onReset").remove(),n.extend(u,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),u.trigger("afterClose",e)}}),u.transitions={getOrigPosition:function(){var e=u.current,t=e.element,n=e.orig,i={},r=50,a=50,o=e.hPadding,c=e.wPadding,l=u.getViewport();return!n&&e.isDom&&t.is(":visible")&&(n=t.find("img:first"),n.length||(n=t)),f(n)?(i=n.offset(),n.is("img")&&(r=n.outerWidth(),a=n.outerHeight())):(i.top=l.y+(l.h-a)*e.topRatio,i.left=l.x+(l.w-r)*e.leftRatio),("fixed"===u.wrap.css("position")||e.locked)&&(i.top-=l.y,i.left-=l.x),i={top:g(i.top-o*e.topRatio),left:g(i.left-c*e.leftRatio),width:g(r+c),height:g(a+o)}},step:function(e,t){var n,i,r=t.prop;i=u.current;var a=i.wrapSpace,o=i.skinSpace;("width"===r||"height"===r)&&(n=t.end===t.start?1:(e-t.start)/(t.end-t.start),u.isClosing&&(n=1-n),i="width"===r?i.wPadding:i.hPadding,i=e-i,u.skin[r](h("width"===r?i:i-a*n)),u.inner[r](h("width"===r?i:i-a*n-o*n)))},zoomIn:function(){var e=u.current,t=e.pos,i=e.openEffect,r="elastic"===i,a=n.extend({opacity:1},t);delete a.position,r?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===i&&(t.opacity=.1),u.wrap.css(t).animate(a,{duration:"none"===i?0:e.openSpeed,easing:e.openEasing,step:r?this.step:null,complete:u._afterZoomIn})},zoomOut:function(){var e=u.current,t=e.closeEffect,n="elastic"===t,i={opacity:.1};n&&(i=this.getOrigPosition(),e.closeOpacity&&(i.opacity=.1)),u.wrap.animate(i,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:n?this.step:null,complete:u._afterZoomOut})},changeIn:function(){var e,t=u.current,n=t.nextEffect,i=t.pos,r={opacity:1},a=u.direction;i.opacity=.1,"elastic"===n&&(e="down"===a||"up"===a?"top":"left","down"===a||"right"===a?(i[e]=g(h(i[e])-200),r[e]="+=200px"):(i[e]=g(h(i[e])+200),r[e]="-=200px")),"none"===n?u._afterZoomIn():u.wrap.css(i).animate(r,{duration:t.nextSpeed,easing:t.nextEasing,complete:u._afterZoomIn})},changeOut:function(){var e=u.previous,t=e.prevEffect,i={opacity:.1},r=u.direction;"elastic"===t&&(i["down"===r||"up"===r?"top":"left"]=("up"===r||"left"===r?"-":"+")+"=200px"),e.wrap.animate(i,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}},u.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!s,fixed:!0},overlay:null,fixed:!1,el:n("html"),create:function(e){e=n.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=n('<div class="fancybox-overlay"></div>').appendTo(u.coming?u.coming.parent:e.parent),this.fixed=!1,e.fixed&&u.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=n.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(a.bind("resize.overlay",n.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){return n(e.target).hasClass("fancybox-overlay")?(u.isActive?u.close():t.close(),!1):void 0}),this.overlay.css(e.css).show()},close:function(){var e,t;a.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(n(".fancybox-margin").removeClass("fancybox-margin"),e=a.scrollTop(),t=a.scrollLeft(),this.el.removeClass("fancybox-lock"),a.scrollTop(e).scrollLeft(t)),n(".fancybox-overlay").remove().hide(),n.extend(this,{overlay:null,fixed:!1})},update:function(){var e,n="100%";this.overlay.width(n).height("100%"),c?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),o.width()>e&&(n=o.width())):o.width()>a.width()&&(n=o.width()),this.overlay.width(n).height(o.height())},onReady:function(e,t){var i=this.overlay;n(".fancybox-overlay").stop(!0,!0),i||this.create(e),e.locked&&this.fixed&&t.fixed&&(i||(this.margin=o.height()>a.height()?n("html").css("margin-right").replace("px",""):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var i,r;t.locked&&(!1!==this.margin&&(n("*").filter(function(){return"fixed"===n(this).css("position")&&!n(this).hasClass("fancybox-overlay")&&!n(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),i=a.scrollTop(),r=a.scrollLeft(),this.el.addClass("fancybox-lock"),a.scrollTop(i).scrollLeft(r)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!u.coming&&this.overlay.fadeOut(e.speedOut,n.proxy(this.close,this))}},u.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t=u.current,i=t.title,r=e.type;if(n.isFunction(i)&&(i=i.call(t.element,t)),d(i)&&""!==n.trim(i)){switch(t=n('<div class="fancybox-title fancybox-title-'+r+'-wrap">'+i+"</div>"),r){case"inside":r=u.skin;break;case"outside":r=u.wrap;break;case"over":r=u.inner;break;default:r=u.skin,t.appendTo("body"),c&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),u.current.margin[2]+=Math.abs(h(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](r)}}},n.fn.fancybox=function(e){var t,i=n(this),r=this.selector||"",a=function(a){var o,c,l=n(this).blur(),s=t;!a.ctrlKey&&!a.altKey&&!a.shiftKey&&!a.metaKey&&!l.is(".fancybox-wrap")&&(o=e.groupAttr||"data-fancybox-group",c=l.attr(o),c||(o="rel",c=l.get(0)[o]),c&&""!==c&&"nofollow"!==c&&(l=r.length?n(r):i,l=l.filter("["+o+'="'+c+'"]'),s=l.index(this)),e.index=s,!1!==u.open(l,e)&&a.preventDefault())};return e=e||{},t=e.index||0,r&&!1!==e.live?o.undelegate(r,"click.fb-start").delegate(r+":not('.fancybox-item, .fancybox-nav')","click.fb-start",a):i.unbind("click.fb-start").bind("click.fb-start",a),this.filter("[data-fancybox-start=1]").trigger("click"),this},o.ready(function(){var t,a;if(n.scrollbarWidth===i&&(n.scrollbarWidth=function(){var e=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),t=t.innerWidth()-t.height(99).innerWidth();return e.remove(),t}),n.support.fixedPosition===i){t=n.support,a=n('<div style="position:fixed;top:20px;"></div>').appendTo("body");var o=20===a[0].offsetTop||15===a[0].offsetTop;a.remove(),t.fixedPosition=o}n.extend(u.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")}),t=n(e).width(),r.addClass("fancybox-lock-test"),a=n(e).width(),r.removeClass("fancybox-lock-test"),n("<style type='text/css'>.fancybox-margin{margin-right:"+(a-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery),function(e){var t=e.fancybox;t.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(t){var n;return t.element&&(n=e(t.element).find("img").attr("src")),!n&&"image"===t.type&&t.href&&(n=t.href),n}},wrap:null,list:null,width:0,init:function(t,n){var i,r=this,a=t.width,o=t.height,u=t.source;i="";for(var c=0;c<n.group.length;c++)i+='<li><a style="width:'+a+"px;height:"+o+'px;" href="javascript:jQuery.fancybox.jumpto('+c+');"></a></li>';this.wrap=e('<div id="fancybox-thumbs"></div>').addClass(t.position).appendTo("body"),this.list=e("<ul>"+i+"</ul>").appendTo(this.wrap),e.each(n.group,function(t){var i=u(n.group[t]);i&&e("<img />").load(function(){var n,i,u,c=this.width,l=this.height;r.list&&c&&l&&(n=c/a,i=l/o,u=r.list.children().eq(t).find("a"),n>=1&&i>=1&&(n>i?(c=Math.floor(c/i),l=o):(c=a,l=Math.floor(l/n))),e(this).css({width:c,height:l,top:Math.floor(o/2-l/2),left:Math.floor(a/2-c/2)}),u.width(a).height(o),e(this).hide().appendTo(u).fadeIn(300))}).attr("src",i)}),this.width=this.list.children().eq(0).outerWidth(!0),this.list.width(this.width*(n.group.length+1)).css("left",Math.floor(.5*e(window).width()-(n.index*this.width+.5*this.width)))},beforeLoad:function(e,t){return t.group.length<2?void(t.helpers.thumbs=!1):void(t.margin["top"===e.position?0:2]+=e.height+15)},afterShow:function(e,t){this.list?this.onUpdate(e,t):this.init(e,t),this.list.children().removeClass("active").eq(t.index).addClass("active")},onUpdate:function(t,n){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*e(window).width()-(n.index*this.width+.5*this.width))},150)},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,a=Function.prototype,o=i.push,u=i.slice,c=i.concat,l=r.toString,s=r.hasOwnProperty,f=i.forEach,d=i.map,p=i.reduce,h=i.reduceRight,g=i.filter,m=i.every,v=i.some,y=i.indexOf,w=i.lastIndexOf,x=Array.isArray,b=Object.keys,k=a.bind,_=function(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):e._=_,_.VERSION="1.5.0";var O=_.each=_.forEach=function(e,t,i){if(null!=e)if(f&&e.forEach===f)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,a=e.length;a>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var o in e)if(_.has(e,o)&&t.call(i,e[o],o,e)===n)return};_.map=_.collect=function(e,t,n){var i=[];return null==e?i:d&&e.map===d?e.map(t,n):(O(e,function(e,r,a){i.push(t.call(n,e,r,a))}),i)};var C="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=_.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(O(e,function(e,a,o){r?n=t.call(i,n,e,a,o):(n=e,r=!0)}),!r)throw new TypeError(C);return n},_.reduceRight=_.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),h&&e.reduceRight===h)return i&&(t=_.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(a!==+a){var o=_.keys(e);a=o.length}if(O(e,function(u,c,l){c=o?o[--a]:--a,r?n=t.call(i,n,e[c],c,l):(n=e[c],r=!0)}),!r)throw new TypeError(C);return n},_.find=_.detect=function(e,t,n){var i;return M(e,function(e,r,a){return t.call(n,e,r,a)?(i=e,!0):void 0}),i},_.filter=_.select=function(e,t,n){var i=[];return null==e?i:g&&e.filter===g?e.filter(t,n):(O(e,function(e,r,a){t.call(n,e,r,a)&&i.push(e)}),i)},_.reject=function(e,t,n){return _.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},_.every=_.all=function(e,t,i){t||(t=_.identity);var r=!0;return null==e?r:m&&e.every===m?e.every(t,i):(O(e,function(e,a,o){return(r=r&&t.call(i,e,a,o))?void 0:n}),!!r)};var M=_.some=_.any=function(e,t,i){t||(t=_.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(O(e,function(e,a,o){return r||(r=t.call(i,e,a,o))?n:void 0}),!!r)};_.contains=_.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):M(e,function(e){return e===t})},_.invoke=function(e,t){var n=u.call(arguments,2),i=_.isFunction(t);return _.map(e,function(e){return(i?t:e[t]).apply(e,n)})},_.pluck=function(e,t){return _.map(e,function(e){return e[t]})},_.where=function(e,t,n){return _.isEmpty(t)?n?void 0:[]:_[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},_.findWhere=function(e,t){return _.where(e,t,!0)},_.max=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&_.isEmpty(e))return-(1/0);var i={computed:-(1/0),value:-(1/0)};return O(e,function(e,r,a){var o=t?t.call(n,e,r,a):e;o>i.computed&&(i={value:e,computed:o})}),i.value},_.min=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&_.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return O(e,function(e,r,a){var o=t?t.call(n,e,r,a):e;o<i.computed&&(i={value:e,computed:o})}),i.value},_.shuffle=function(e){var t,n=0,i=[];return O(e,function(e){t=_.random(n++),i[n-1]=i[t],i[t]=e}),i};var E=function(e){return _.isFunction(e)?e:function(t){return t[e]}};_.sortBy=function(e,t,n){var i=E(t);return _.pluck(_.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var j=function(e,t,n,i){var r={},a=E(null==t?_.identity:t);return O(e,function(t,o){var u=a.call(n,t,o,e);i(r,u,t)}),r};_.groupBy=function(e,t,n){return j(e,t,n,function(e,t,n){(_.has(e,t)?e[t]:e[t]=[]).push(n)})},_.countBy=function(e,t,n){return j(e,t,n,function(e,t){_.has(e,t)||(e[t]=0),e[t]++})},_.sortedIndex=function(e,t,n,i){n=null==n?_.identity:E(n);for(var r=n.call(i,t),a=0,o=e.length;o>a;){var u=a+o>>>1;n.call(i,e[u])<r?a=u+1:o=u}return a},_.toArray=function(e){return e?_.isArray(e)?u.call(e):e.length===+e.length?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:e.length===+e.length?e.length:_.keys(e).length},_.first=_.head=_.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},_.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},_.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},_.rest=_.tail=_.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var I=function(e,t,n){return t&&_.every(e,_.isArray)?c.apply(n,e):(O(e,function(e){_.isArray(e)||_.isArguments(e)?t?o.apply(n,e):I(e,t,n):n.push(e)}),n)};_.flatten=function(e,t){return I(e,t,[])},_.without=function(e){return _.difference(e,u.call(arguments,1))},_.uniq=_.unique=function(e,t,n,i){_.isFunction(t)&&(i=n,n=t,t=!1);var r=n?_.map(e,n,i):e,a=[],o=[];return O(r,function(n,i){(t?i&&o[o.length-1]===n:_.contains(o,n))||(o.push(n),a.push(e[i]))}),a},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(e){var t=u.call(arguments,1);return _.filter(_.uniq(e),function(e){return _.every(t,function(t){return _.indexOf(t,e)>=0})})},_.difference=function(e){var t=c.apply(i,u.call(arguments,1));return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){return _.unzip.apply(_,u.call(arguments))},_.unzip=function(){for(var e=_.max(_.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=_.pluck(arguments,""+n);return t},_.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},_.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=_.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},_.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(w&&e.lastIndexOf===w)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);
for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},_.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,a=new Array(i);i>r;)a[r++]=e,e+=n;return a};var S=function(){};_.bind=function(e,t){var n,i;if(k&&e.bind===k)return k.apply(e,u.call(arguments,1));if(!_.isFunction(e))throw new TypeError;return n=u.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(u.call(arguments)));S.prototype=e.prototype;var r=new S;S.prototype=null;var a=e.apply(r,n.concat(u.call(arguments)));return Object(a)===a?a:r}},_.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},_.bindAll=function(e){var t=u.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return O(t,function(t){e[t]=_.bind(e[t],e)}),e},_.memoize=function(e,t){var n={};return t||(t=_.identity),function(){var i=t.apply(this,arguments);return _.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},_.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},_.defer=function(e){return _.delay.apply(_,[e,1].concat(u.call(arguments,1)))},_.throttle=function(e,t,n){var i,r,a,o=null,u=0;n||(n={});var c=function(){u=new Date,o=null,a=e.apply(i,r)};return function(){var l=new Date;u||n.leading!==!1||(u=l);var s=t-(l-u);return i=this,r=arguments,0>=s?(clearTimeout(o),o=null,u=l,a=e.apply(i,r)):o||n.trailing===!1||(o=setTimeout(c,s)),a}},_.debounce=function(e,t,n){var i,r=null;return function(){var a=this,o=arguments,u=function(){r=null,n||(i=e.apply(a,o))},c=n&&!r;return clearTimeout(r),r=setTimeout(u,t),c&&(i=e.apply(a,o)),i}},_.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},_.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},_.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},_.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},_.keys=b||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)_.has(e,n)&&t.push(n);return t},_.values=function(e){var t=[];for(var n in e)_.has(e,n)&&t.push(e[n]);return t},_.pairs=function(e){var t=[];for(var n in e)_.has(e,n)&&t.push([n,e[n]]);return t},_.invert=function(e){var t={};for(var n in e)_.has(e,n)&&(t[e[n]]=n);return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()},_.extend=function(e){return O(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},_.pick=function(e){var t={},n=c.apply(i,u.call(arguments,1));return O(n,function(n){n in e&&(t[n]=e[n])}),t},_.omit=function(e){var t={},n=c.apply(i,u.call(arguments,1));for(var r in e)_.contains(n,r)||(t[r]=e[r]);return t},_.defaults=function(e){return O(u.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e};var A=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var r=l.call(e);if(r!=l.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return i[a]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(_.isFunction(o)&&o instanceof o&&_.isFunction(u)&&u instanceof u))return!1;n.push(e),i.push(t);var c=0,s=!0;if("[object Array]"==r){if(c=e.length,s=c==t.length)for(;c--&&(s=A(e[c],t[c],n,i)););}else{for(var f in e)if(_.has(e,f)&&(c++,!(s=_.has(t,f)&&A(e[f],t[f],n,i))))break;if(s){for(f in t)if(_.has(t,f)&&!c--)break;s=!c}}return n.pop(),i.pop(),s};_.isEqual=function(e,t){return A(e,t,[],[])},_.isEmpty=function(e){if(null==e)return!0;if(_.isArray(e)||_.isString(e))return 0===e.length;for(var t in e)if(_.has(e,t))return!1;return!0},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=x||function(e){return"[object Array]"==l.call(e)},_.isObject=function(e){return e===Object(e)},O(["Arguments","Function","String","Number","Date","RegExp"],function(e){_["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return!(!e||!_.has(e,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(e){return"function"==typeof e}),_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!=+e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==l.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return s.call(e,t)},_.noConflict=function(){return e._=t,this},_.identity=function(e){return e},_.times=function(e,t,n){for(var i=Array(Math.max(0,e)),r=0;e>r;r++)i[r]=t.call(n,r);return i},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};T.unescape=_.invert(T.escape);var R={escape:new RegExp("["+_.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(T.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(e){_[e]=function(t){return null==t?"":(""+t).replace(R[e],function(t){return T[e][t]})}}),_.result=function(e,t){if(null==e)return void 0;var n=e[t];return _.isFunction(n)?n.call(e):n},_.mixin=function(e){O(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),L.call(this,n.apply(_,e))}})};var P=0;_.uniqueId=function(e){var t=++P+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(e,t,n){var i;n=_.defaults({},n,_.templateSettings);var r=new RegExp([(n.escape||z).source,(n.interpolate||z).source,(n.evaluate||z).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(r,function(t,n,i,r,u){return o+=e.slice(a,u).replace(W,function(e){return"\\"+D[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),a=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return i(t,_);var c=function(e){return i.call(this,e,_)};return c.source="function("+(n.variable||"obj")+"){\n"+o+"}",c},_.chain=function(e){return _(e).chain()};var L=function(e){return this._chain?_(e).chain():e};_.mixin(_),O(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],L.call(this,n)}}),O(["concat","join","slice"],function(e){var t=i[e];_.prototype[e]=function(){return L.call(this,t.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this);var Easing={linear:function(e,t,n,i){return n*(e/i)+t},swing:function(e,t,n,i){return Easing.easeOutQuad(e,t,n,i)},easeOutQuad:function(e,t,n,i){return-n*(e/=i)*(e-2)+t},easeInOutQuad:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeOutCubic:function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeOutQuart:function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeOutQuint:function(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeOutSine:function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},easeInOutSine:function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},easeOutExpo:function(e,t,n,i){return e==i?t+n:n*(-Math.pow(2,-10*e/i)+1)+t},easeInOutExpo:function(e,t,n,i){return 0==e?t:e==i?t+n:(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},easeOutCirc:function(e,t,n,i){return n*Math.sqrt(1-(e=e/i-1)*e)+t},easeInOutCirc:function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeOutElastic:function(e,t,n,i){var r=1.70158,a=0,o=n;if(0==e)return t;if(1==(e/=i))return t+n;if(a||(a=.3*i),o<Math.abs(n)){o=n;var r=a/4}else var r=a/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*e)*Math.sin((e*i-r)*(2*Math.PI)/a)+n+t},easeInOutElastic:function(e,t,n,i){var r=1.70158,a=0,o=n;if(0==e)return t;if(2==(e/=i/2))return t+n;if(a||(a=i*(.3*1.5)),o<Math.abs(n)){o=n;var r=a/4}else var r=a/(2*Math.PI)*Math.asin(n/o);return 1>e?-.5*(o*Math.pow(2,10*(e-=1))*Math.sin((e*i-r)*(2*Math.PI)/a))+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*i-r)*(2*Math.PI)/a)*.5+n+t},easeOutBack:function(e,t,n,i,r){return void 0==r&&(r=1.70158),n*((e=e/i-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(e,t,n,i,r){return void 0==r&&(r=1.70158),(e/=i/2)<1?n/2*(e*e*(((r*=1.525)+1)*e-r))+t:n/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+t},easeInBounce:function(e,t,n,i){return n-Easing.easeOutBounce(i-e,0,n,i)+t},easeOutBounce:function(e,t,n,i){return(e/=i)<1/2.75?n*(7.5625*e*e)+t:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,i){return i/2>e?.5*Easing.easeInBounce(2*e,0,n,i)+t:.5*Easing.easeOutBounce(2*e-i,0,n,i)+.5*n+t}};!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),a=window.setTimeout(function(){t(i+r)},r);return e=i+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var Px=function(){var e=function(e){for(var t,n,i=e.length;i--;)n=Math.random()*i|0,t=e[i],e[i]=e[n],e[n]=t;return e},t=function(e,t,n,i,r,a,o){index=4*(t+n*e.width),e.data[index+0]=i,e.data[index+1]=r,e.data[index+2]=a,e.data[index+3]=o},n=function(e,t,n){return index=4*(t+n*e.width),[e.data[index+0],e.data[index+1],e.data[index+2],e.data[index+3]]},i=function(e,i,r,a){var o,u,c;o=u=c=0;var l,s,f=0;for(s=r;r+a>s&&s<e.height;s++)for(l=i;i+a>l&&l<e.width;l++){var d=n(e,l,s);o+=d[0],u+=d[1],c+=d[2],f++}for(o=Math.round(o/f),u=Math.round(u/f),c=Math.round(c/f),s=r;r+a>s&&s<e.height;s++)for(l=i;i+a>l&&l<e.width;l++)t(e,l,s,o,u,c,255)},r=function(e,t,n){for(var i=e.getContext("2d"),r=[],a=0;a<e.width;a+=t)for(var o=0;o<=e.height;o+=t){var u=e.width-a,c=e.height-o,l=t>u?u:t,s=t>c?c:t;if(0===l||0===s)break;var f=a,d=o;n&&(f=[d,d=f][0]);var p=i.getImageData(f,d,l,s);p.x=f,p.y=d,r.push(p)}return r},a=function(e,t){1>t&&(t=1);for(var n=0;n<e.height;n+=t)for(var r=0;r<e.height;r+=t)i(e,r,n,t)},o=function(e,t){var n=function(e){var n,i=+new Date,r=function(a){n!==!1?(requestAnimationFrame(r),n=e(a-i),i=a):t&&t()};r(i)},i=+new Date,r=e.duration||2e3;n(function(t){var n=new Date-i;if(!(r>n))return!1;var a=e.easing(n,e.start,e.end-e.start,r);e.step(a)})},u=function(e,t,n,i){var r=new Uint8ClampedArray(t.data),u=0,c=function(n){var i=Math.round(n);i!==u&&(a(t,i),e.putImageData(t,t.x||0,t.y||0),t.data.set(r),u=i)};n.start=n.start||2,n.duration=n.duration||2e3,n.easing=n.easing||Easing.easeOutQuad,void 0===n.end&&(n.end=n.blockSize||16),o({duration:n.duration,start:n.start,end:n.end,easing:n.easing,step:c},i)},c=function(e,t,n,i){n.delay=n.delay||10;var r=function(a){var o,c=t[a];a===t.length-1&&(o=i),u(e,c,n,o),a<t.length-1&&setTimeout(function(){r(a+1)},n.delay)};r(0)};return{pixelate:function(e,t){var n=e.getContext("2d"),i=n.getImageData(0,0,e.width,e.height);a(i,t),n.putImageData(i,0,0)},animate:function(e,t,n){var i=e.getContext("2d"),r=i.getImageData(0,0,e.width,e.height);u(i,r,t,n)},animateTiles:function(t,n,i){void 0!==n.blockSize&&(n.end=n.blockSize,n.start=1),n.reverse&&(n.start=[n.end,n.end=n.start][0]),blockSize=Math.max(n.start,n.end);var a=r(t,blockSize);n.reverseDir&&a.reverse(),n.start>n.end&&Px.pixelate(t,n.start);var o=t.getContext("2d");n.randomize&&e(a),c(o,a,n,i)}}}();!function(){function e(){$(document).trigger("visibility",document[t])}var t,n;"undefined"!=typeof document.hidden?(t="hidden",n="visibilitychange"):"undefined"!=typeof document.mozHidden?(t="mozHidden",n="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(t="msHidden",n="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(t="webkitHidden",n="webkitvisibilitychange"),"undefined"!=typeof document.addEventListener&&"undefined"!=typeof t&&document.addEventListener(n,e,!1)}();var domReady=function(){$("#avatar-wrap .pic").one("load",onImageLoad).each(function(){this.complete&&$(this).load()})};$(domReady),$(function(){var e={padding:0,closeBtn:!1,helpers:{thumbs:{width:75,height:75},title:{type:"outside"}}},t="Various screenshots taken during development";$("#fancybox-devhub").click(function(){$.fancybox([{href:"images/devhub1.png",title:t},{href:"images/devhub2.png",title:t},{href:"images/devhub3.png",title:t},{href:"images/devhub4.png",title:t}],e)}),$("#fancybox-memrise-button").click(function(){$.fancybox([{href:"images/memrise-button1.png",title:"Promotional image for Chrome Store"},{href:"images/memrise-button2.png",title:"Options page powered by Backbone.js"}],e)})});